import{b as U,E as q,h,ag as Z,Z as $,ah as z,ai as C,a1 as F,a0 as y,aj as N,e as w,ak as A,al as H,a as M,g as Y,am as G,an as J,l as j,ao as Q,ap as R,n as D,ac as V,aa as B,o as P,t as W,T as X,aq as E,ar as x,as as k,q as ee,at as re,au as ne,av as se,M as ie,aw as te,ax as ae,ay as ue,ab as K,az as v}from"./DXY1vrIM.js";import{s as fe,g as le}from"./kp6SixaL.js";function ve(e,r,[s,n]=[0,0]){h&&s===0&&M();var i=e,t=null,p=null,u=H,b=s>0?q:0,d=!1;const _=(l,o=!0)=>{d=!0,g(o,l)},g=(l,o)=>{if(u===(u=l))return;let c=!1;if(h&&n!==-1){if(s===0){const f=Z(i);f===$?n=0:f===z?n=1/0:(n=parseInt(f.substring(1)),n!==n&&(n=u?1/0:-1))}const T=n>s;!!u===T&&(i=C(),F(i),y(!1),c=!0,n=-1)}u?(t?N(t):o&&(t=w(()=>o(i))),p&&A(p,()=>{p=null})):(p?N(p):o&&(p=w(()=>o(i,[s+1,n]))),t&&A(t,()=>{t=null})),c&&y(!0)};U(()=>{d=!1,r(_),d||g(null,null)},b),h&&(i=Y)}function he(e,r,s){h&&M();var n=e,i,t;U(()=>{i!==(i=r())&&(t&&(A(t),t=null),i&&(t=w(()=>s(n,i))))},q),h&&(n=Y)}function L(e,r){return e===r||e?.[R]===r}function ge(e={},r,s,n){return G(()=>{var i,t;return J(()=>{i=t,t=[],j(()=>{e!==s(...t)&&(r(e,...t),i&&L(s(...i),e)&&r(null,...i))})}),()=>{Q(()=>{t&&L(s(...t),e)&&r(null,...t)})}}),e}let I=!1,O=Symbol();function Se(e,r,s){const n=s[r]??={store:null,source:V(void 0),unsubscribe:D};if(n.store!==e&&!(O in s))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=D;else{var i=!0;n.unsubscribe=fe(e,t=>{i?n.source.v=t:B(n.source,t)}),i=!1}return e&&O in s?le(e):P(n.source)}function Ie(){const e={};function r(){W(()=>{for(var s in e)e[s].unsubscribe();X(e,O,{enumerable:!1,value:!0})})}return[e,r]}function oe(e){var r=I;try{return I=!1,[e(),I]}finally{I=r}}const ce={get(e,r){if(!e.exclude.includes(r))return e.props[r]},set(e,r){return!1},getOwnPropertyDescriptor(e,r){if(!e.exclude.includes(r)&&r in e.props)return{enumerable:!0,configurable:!0,value:e.props[r]}},has(e,r){return e.exclude.includes(r)?!1:r in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(r=>!e.exclude.includes(r))}};function Pe(e,r,s){return new Proxy({props:e,exclude:r},ce)}const pe={get(e,r){let s=e.props.length;for(;s--;){let n=e.props[s];if(v(n)&&(n=n()),typeof n=="object"&&n!==null&&r in n)return n[r]}},set(e,r,s){let n=e.props.length;for(;n--;){let i=e.props[n];v(i)&&(i=i());const t=E(i,r);if(t&&t.set)return t.set(s),!0}return!1},getOwnPropertyDescriptor(e,r){let s=e.props.length;for(;s--;){let n=e.props[s];if(v(n)&&(n=n()),typeof n=="object"&&n!==null&&r in n){const i=E(n,r);return i&&!i.configurable&&(i.configurable=!0),i}}},has(e,r){if(r===R||r===K)return!1;for(let s of e.props)if(v(s)&&(s=s()),s!=null&&r in s)return!0;return!1},ownKeys(e){const r=[];for(let s of e.props)if(v(s)&&(s=s()),!!s){for(const n in s)r.includes(n)||r.push(n);for(const n of Object.getOwnPropertySymbols(s))r.includes(n)||r.push(n)}return r}};function Te(...e){return new Proxy({props:e},pe)}function _e(e){return e.ctx?.d??!1}function we(e,r,s,n){var i=!ie||(s&te)!==0,t=(s&se)!==0,p=(s&ue)!==0,u=n,b=!0,d=()=>(b&&(b=!1,u=p?j(n):n),u),_;if(t){var g=R in e||K in e;_=E(e,r)?.set??(g&&r in e?a=>e[r]=a:void 0)}var l,o=!1;t?[l,o]=oe(()=>e[r]):l=e[r],l===void 0&&n!==void 0&&(l=d(),_&&(i&&x(),_(l)));var c;if(i?c=()=>{var a=e[r];return a===void 0?d():(b=!0,a)}:c=()=>{var a=e[r];return a!==void 0&&(u=void 0),a===void 0?u:a},i&&(s&k)===0)return c;if(_){var T=e.$$legacy;return function(a,S){return arguments.length>0?((!i||!S||T||o)&&_(S?c():a),a):c()}}var f=((s&ae)!==0?ee:re)(c);return t&&P(f),function(a,S){if(arguments.length>0){const m=S?P(f):i&&t?ne(a):a;return B(f,m),u!==void 0&&(u=m),a}return _e(f)?f.v:P(f)}}export{Se as a,ge as b,he as c,Ie as d,ve as i,we as p,Pe as r,Te as s};
