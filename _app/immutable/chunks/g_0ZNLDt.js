import{H as P,I as b,J as R,x as Y,v as k,K as A,L as E,j as x,M as D,N as C,O as j,P as T,Q as p,R as M,a as q,i as y,S as W,T as $,U as B,V as J,W as K,X as Q,Y as U,f as X,Z,q as z,h as N,d as F,_ as G}from"./Hh_lLe1A.js";const ee=["touchstart","touchmove"];function te(e){return ee.includes(e)}const I=new Set,O=new Set;function ne(e){for(var t=0;t<e.length;t++)I.add(e[t]);for(var a of O)a(e)}function m(e){var t=this,a=t.ownerDocument,l=e.type,i=e.composedPath?.()||[],r=i[0]||e.target,f=0,c=e.__root;if(c){var d=i.indexOf(c);if(d!==-1&&(t===document||t===window)){e.__root=t;return}var _=i.indexOf(t);if(_===-1)return;d<=_&&(f=d)}if(r=i[f]||e.target,r!==t){P(e,"currentTarget",{configurable:!0,get(){return r||a}});var w=k,o=A;b(null),R(null);try{for(var n,s=[];r!==null;){var h=r.assignedSlot||r.parentNode||r.host||null;try{var u=r["__"+l];if(u!=null&&(!r.disabled||e.target===r))if(Y(u)){var[V,...H]=u;V.apply(r,[e,...H])}else u.call(r,e)}catch(g){n?s.push(g):n=g}if(e.cancelBubble||h===t||h===null)break;r=h}if(n){for(let g of s)queueMicrotask(()=>{throw g});throw n}}finally{e.__root=t,delete e.currentTarget,b(w),R(o)}}}function se(e,t){var a=t==null?"":typeof t=="object"?t+"":t;a!==(e.__t??=e.nodeValue)&&(e.__t=a,e.nodeValue=a+"")}function re(e,t){return L(e,t)}function oe(e,t){E(),t.intro=t.intro??!1;const a=t.target,l=N,i=y;try{for(var r=x(a);r&&(r.nodeType!==D||r.data!==C);)r=j(r);if(!r)throw T;p(!0),M(r),q();const f=L(e,{...t,anchor:r});if(y===null||y.nodeType!==D||y.data!==W)throw $(),T;return p(!1),f}catch(f){if(f===T)return t.recover===!1&&B(),E(),J(a),p(!1),re(e,t);throw f}finally{p(l),M(i)}}const v=new Map;function L(e,{target:t,anchor:a,props:l={},events:i,context:r,intro:f=!0}){E();var c=new Set,d=o=>{for(var n=0;n<o.length;n++){var s=o[n];if(!c.has(s)){c.add(s);var h=te(s);t.addEventListener(s,m,{passive:h});var u=v.get(s);u===void 0?(document.addEventListener(s,m,{passive:h}),v.set(s,1)):v.set(s,u+1)}}};d(K(I)),O.add(d);var _=void 0,w=Q(()=>{var o=a??t.appendChild(U());return X(()=>{if(r){Z({});var n=z;n.c=r}i&&(l.$$events=i),N&&F(o,null),_=e(o,l)||{},N&&(A.nodes_end=y),r&&G()}),()=>{for(var n of c){t.removeEventListener(n,m);var s=v.get(n);--s===0?(document.removeEventListener(n,m),v.delete(n)):v.set(n,s)}O.delete(d),o!==a&&o.parentNode?.removeChild(o)}});return S.set(_,w),_}let S=new WeakMap;function ie(e,t){const a=S.get(e);return a?(S.delete(e),a(t)):Promise.resolve()}export{ne as d,oe as h,re as m,se as s,ie as u};
